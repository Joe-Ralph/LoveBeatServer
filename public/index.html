<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000212">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>LoveBeat - Device Pairing</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #000212;
            --primary-light: #1a1d2b;
            --secondary: #D73371;
            --secondary-light: #e65d8e;
            --text: #2d3748;
            --text-light: #718096;
            --light-bg: #f7fafc;
            --white: #ffffff;
            --success: #38a169;
            --error: #e53e3e;
            --warning: #dd6b20;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            background-color: var(--light-bg);
            color: var(--text);
            line-height: 1.6;
            padding: 0;
            margin: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            background: var(--white);
            border-radius: 0;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            margin: 0;
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 100%;
            width: 100%;
        }
        
        @media (min-width: 640px) {
            body {
                padding: 1.5rem;
                background-color: var(--primary);
                background-image: radial-gradient(circle at 25% 25%, var(--primary-light) 0%, var(--primary) 100%);
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .container {
                border-radius: 16px;
                max-width: 420px;
                margin: 0 auto;
                min-height: auto;
                padding: 2.5rem;
            }
        }
        
        h1 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 2rem;
            font-size: 1.75rem;
            font-weight: 700;
            line-height: 1.2;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }
        
        h2 {
            color: var(--primary);
            margin: 1.5rem 0 1rem;
            font-size: 1.5rem;
        }
        
        .steps {
            margin: 0 0 2rem;
            position: relative;
        }
        
        .steps::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 20px;
            bottom: 20px;
            width: 2px;
            background: linear-gradient(to bottom, var(--secondary), var(--primary));
            z-index: 1;
        }
        
        .step {
            display: flex;
            margin-bottom: 2rem;
            align-items: flex-start;
            position: relative;
            z-index: 2;
            transition: var(--transition);
            padding: 0.5rem 0;
        }
        
        .step:last-child {
            margin-bottom: 1rem;
        }
        
        .step-number {
            background-color: var(--white);
            color: var(--secondary);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1.25rem;
            flex-shrink: 0;
            font-weight: 700;
            border: 2px solid var(--secondary);
            box-shadow: 0 0 0 4px rgba(215, 51, 113, 0.15);
            position: relative;
            transition: var(--transition);
        }
        
        .step-content {
            flex: 1;
        }
        
        .pairing-form {
            background: linear-gradient(145deg, #ffffff, #f1f5f9);
            padding: 1.75rem 1.5rem 1.5rem;
            border-radius: 16px;
            margin: 2rem 0 1rem;
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }
        
        .pairing-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--primary);
        }
        
        input[type="number"] {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1.125rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: var(--transition);
            background-color: var(--white);
            color: var(--primary);
            text-align: center;
            -webkit-appearance: none;
            -moz-appearance: textfield;
        }
        
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        input[type="number"]:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(215, 51, 113, 0.2);
        }
        
        button[type="submit"] {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
            border: none;
            padding: 18px 24px;
            border-radius: 12px;
            font-size: 1.125rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(215, 51, 113, 0.3);
            margin-top: 1rem;
            letter-spacing: 0.5px;
            text-transform: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        button[type="submit"]::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%, -50%);
            transform-origin: 50% 50%;
        }
        
        button[type="submit"]:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(40, 40);
                opacity: 0;
            }
        }
        
        button[type="submit"]:hover {
            background-color: #c02e65;
            transform: translateY(-1px);
        }
        
        button[type="submit"]:active {
            transform: translateY(0);
        }
        
        .note {
            background-color: rgba(247, 250, 252, 0.8);
            border-left: 4px solid var(--secondary);
            padding: 1rem;
            margin: 1.5rem 0 0;
            border-radius: 0 8px 8px 0;
            font-size: 0.9rem;
            color: var(--text-light);
            backdrop-filter: blur(5px);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        /* Animation for pattern interrupt */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* Success state */
        .success-state {
            display: none;
            text-align: center;
            padding: 2rem 1rem;
        }
        
        .success-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--success) 0%, #48bb78 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            animation: scaleIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .success-icon svg {
            width: 40px;
            height: 40px;
            color: white;
        }
        
        @keyframes scaleIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        /* Focus state for better mobile interaction */
        input[type="number"]:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 4px rgba(215, 51, 113, 0.2);
            transform: translateY(-1px);
        }
        
        /* Haptic feedback for mobile */
        @media (hover: hover) and (pointer: fine) {
            button[type="submit"]:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(215, 51, 113, 0.4);
            }
        }
        
        button[type="submit"]:active {
            transform: translateY(1px) !important;
            box-shadow: 0 2px 10px rgba(215, 51, 113, 0.3) !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <div style="text-align: center; margin-bottom: 1.5rem;">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 0.5rem;">
                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z" fill="#D73371"/>
            </svg>
        </div>
        <h1>Connect Your LoveBeat</h1>
        
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>Choose Your Role</h3>
                    <p>One person should select <strong>Seek</strong> on their watch to generate a QR code. The other should select <strong>Receive</strong> to get a pairing code.</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>Scan or Share</h3>
                    <p>If you're the one who selected <strong>Seek</strong>, scan the QR code with your partner's watch. If you're the one who selected <strong>Receive</strong>, share your pairing code with your partner.</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>Enter Pairing Code</h3>
                    <p>Enter the pairing code from your partner's watch in the field below and tap 'Pair Devices'.</p>
                </div>
            </div>
        </div>
        
        <!-- Pattern Interrupt Element -->
        <div style="background: linear-gradient(90deg, rgba(215,51,113,0.1) 0%, rgba(0,2,18,0.1) 100%); border-radius: 12px; padding: 1rem; margin: 1rem 0 1.5rem; border: 1px dashed rgba(215,51,113,0.3);">
            <div style="display: flex; align-items: center;">
                <div style="background: rgba(215,51,113,0.1); border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin-right: 12px; flex-shrink: 0;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 8V12L15 15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#D73371" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div>
                    <div style="font-weight: 600; color: var(--primary); font-size: 0.9rem;">Quick Pairing</div>
                    <div style="font-size: 0.85rem; color: var(--text-light);">Complete in less than 30 seconds</div>
                </div>
            </div>
        </div>
        
        <div class="pairing-form">
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="font-size: 0.9rem; color: var(--secondary); font-weight: 600; margin-bottom: 0.25rem;">STEP 3 OF 3</div>
                <h2 style="margin: 0; font-size: 1.5rem; color: var(--primary);">Enter Pairing Code</h2>
                <p style="color: var(--text-light); margin-top: 0.5rem; font-size: 0.95rem;">Enter the 6-digit code from your partner's watch</p>
            </div>
            
            <form id="pairForm">
                <div class="form-group" style="position: relative;">
                    <div style="position: relative;">
                        <input type="number" id="pairCode" placeholder="000000" required min="100000" max="999999" inputmode="numeric" autofocus style="font-size: 2rem; letter-spacing: 0.5rem; padding: 1rem 1.5rem; font-weight: 700; height: auto;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; height: 2px; background: #e2e8f0; z-index: 1;"></div>
                        <div id="activeLine" style="position: absolute; bottom: 0; left: 50%; width: 0; height: 3px; background: var(--secondary); z-index: 2; transition: all 0.3s ease; transform: translateX(-50%);"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                        <span style="font-size: 0.8rem; color: var(--text-light);">6-digit code</span>
                        <span id="codeLength" style="font-size: 0.8rem; color: var(--text-light);">0/6</span>
                    </div>
                </div>
                
                <button type="submit" class="pulse" style="margin-top: 2rem;">
                    <span id="submitText">Pair Devices</span>
                    <!-- <span id="submitIcon" style="display: none; margin-left: 8px;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5 12H19M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span> -->
                </button>
            </form>
            
            <div id="successState" class="success-state">
                <div class="success-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                        <polyline points="22 4 12 14.01 9 11.01"></polyline>
                    </svg>
                </div>
                <h3 style="color: var(--primary); margin-bottom: 0.5rem; font-size: 1.5rem;">Devices Paired!</h3>
                <p style="color: var(--text-light); margin-bottom: 1.5rem;">You're now connected with your partner</p>
                <div style="width: 60%; height: 5px; background: linear-gradient(90deg, var(--success), #48bb78); border-radius: 3px; margin: 0 auto;"></div>
            </div>
            
            <div class="note">
                <div style="display: flex; align-items: flex-start;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px; margin-top: 2px; flex-shrink: 0;">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#D73371" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 8V12" stroke="#D73371" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 16H12.01" stroke="#D73371" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div>
                        <strong style="color: var(--primary);">Make sure:</strong>
                        <ul style="margin: 0.5rem 0 0 1.25rem; padding: 0;">
                            <li>Both watches have the app open</li>
                            <li>Devices have stable internet</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const pairForm = document.getElementById('pairForm');
            const pairCodeInput = document.getElementById('pairCode');
            const codeLength = document.getElementById('codeLength');
            const activeLine = document.getElementById('activeLine');
            const submitButton = pairForm.querySelector('button[type="submit"]');
            const submitText = document.getElementById('submitText');
            // const submitIcon = document.getElementById('submitIcon');
            const successState = document.getElementById('successState');
            
            // Update code length counter
            function updateCodeLength() {
                const length = pairCodeInput.value.length;
                codeLength.textContent = `${length}/6`;
                
                // Update active line width based on input length
                const progress = (length / 6) * 100;
                activeLine.style.width = `${progress}%`;
                
                // Change button state when code is complete
                if (length === 6) {
                    submitButton.classList.add('pulse');
                    submitButton.style.background = 'linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%)';
                    // submitIcon.style.display = 'inline-block ';
                    submitText.textContent = 'Tap to Connect';
                } else {
                    submitButton.classList.remove('pulse');
                    submitButton.style.background = 'linear-gradient(135deg, #e0e0e0 0%, #b0b0b0 100%)';
                    // submitIcon.style.display = 'none';
                    submitText.textContent = 'Enter 6-digit Code';
                }
            }
            
            // Auto-format the input to show 6 digits
            pairCodeInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 6) {
                    value = value.slice(0, 6);
                    
                    // Trigger haptic feedback on mobile when code is complete
                    if (navigator.vibrate) {
                        navigator.vibrate(50);
                    }
                }
                e.target.value = value;
                updateCodeLength();
            });
            
            // Add focus/blur effects
            pairCodeInput.addEventListener('focus', function() {
                activeLine.style.opacity = '1';
            });
            
            pairCodeInput.addEventListener('blur', function() {
                activeLine.style.opacity = '0.5';
            });
            
            // Handle form submission with enhanced UX
            pairForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const receiverPairId = pairCodeInput.value;
                
                // Validate the code is 6 digits
                if (receiverPairId.length !== 6) {
                    // Shake animation for error
                    pairCodeInput.style.animation = 'shake 0.5s';
                    setTimeout(() => {
                        pairCodeInput.style.animation = '';
                    }, 500);
                    
                    // Haptic feedback for error
                    if (navigator.vibrate) {
                        navigator.vibrate([100, 50, 100]);
                    }
                    
                    return;
                }
                
                const urlParams = new URLSearchParams(window.location.search);
                const senderId = urlParams.get('senderId');
                const receiverId = urlParams.get('receiverId');
                const senderPairId = urlParams.get('paircode');

                const data = {
                    senderId: senderId,
                    receiverId: receiverId,
                    senderPairId: senderPairId,
                    receiverPairId: receiverPairId
                };
                
                // Show loading state
                submitButton.disabled = true;
                submitText.textContent = 'Pairing...';
                // submitIcon.innerHTML = `
                //     <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="animation: spin 1s linear infinite;">
                //         <path d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.2"/>
                //         <path d="M12 3C13.4543 3 14.8773 3.37999 16.1321 4.10005C17.387 4.82011 18.4301 5.85232 19.1517 7.09096C19.8732 8.3296 20.2479 9.7303 20.2384 11.155C20.2289 12.5797 19.8356 13.9757 19.0981 15.2044" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                //     </svg>
                // `;
                
                // Haptic feedback for start of pairing
                if (navigator.vibrate) {
                    navigator.vibrate(30);
                }
                
                // Simulate network delay for demo purposes
                setTimeout(() => {
                    fetch('/pair', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data),
                    })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => {
                        console.log('Success:', data);
                        
                        // Show success state
                        pairForm.style.display = 'none';
                        successState.style.display = 'block';
                        
                        // Haptic feedback for success
                        if (navigator.vibrate) {
                            navigator.vibrate([100, 50, 100, 50, 100]);
                        }
                        
                        // Add confetti effect
                        triggerConfetti();
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                        
                        // Show error state
                        submitButton.style.background = 'linear-gradient(135deg, #f56565 0%, #c53030 100%)';
                        submitText.textContent = 'Try Again';
                        // submitIcon.innerHTML = `
                        //     <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        //         <path d="M10 14L12 12M12 12L14 10M12 12L10 10M12 12L14 14M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        //     </svg>
                        // `;
                        
                        // Haptic feedback for error
                        if (navigator.vibrate) {
                            navigator.vibrate([200, 100, 200]);
                        }
                        
                        // Re-enable the button after a delay
                        setTimeout(() => {
                            submitButton.disabled = false;
                            submitText.textContent = 'Pair Devices';
                            // submitIcon.style.display = 'inline-block';
                            submitButton.style.background = 'linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%)';
                            // submitIcon.innerHTML = `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 12H19M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
                        }, 1500);
                    });
                }, 1500); // Simulated network delay
            });
            
            // Initialize code length display
            updateCodeLength();
            
            // Focus the input field on page load with a slight delay for better mobile UX
            setTimeout(() => {
                pairCodeInput.focus();
                
                // Show keyboard on mobile
                if ('virtualKeyboard' in navigator) {
                    navigator.virtualKeyboard.show();
                }
            }, 300);
            
            // Add confetti effect function
            function triggerConfetti() {
                const duration = 3 * 1000;
                const animationEnd = Date.now() + duration;
                const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };
                
                function randomInRange(min, max) {
                    return Math.random() * (max - min) + min;
                }
                
                const interval = setInterval(function() {
                    const timeLeft = animationEnd - Date.now();
                    
                    if (timeLeft <= 0) {
                        return clearInterval(interval);
                    }
                    
                    const particleCount = 50 * (timeLeft / duration);
                    
                    // Since particles fall down, start a bit higher than random
                    confetti({
                        ...defaults,
                        particleCount,
                        origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
                        colors: ['#D73371', '#000212', '#ffffff'],
                        shapes: ['circle', 'square'],
                    });
                    confetti({
                        ...defaults,
                        particleCount,
                        origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
                        colors: ['#D73371', '#000212', '#ffffff'],
                        shapes: ['circle', 'square'],
                    });
                }, 250);
            }
        });
        
        // Add shake animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                20%, 60% { transform: translateX(-5px); }
                40%, 80% { transform: translateX(5px); }
            }
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
    </script>
    
    <!-- Confetti.js for celebration effect -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</body>
</html>
